<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
    <h:outputStylesheet library="css" name="materialize.css" media="screen,projection"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
</h:head>
<h:body>
    <ui:insert name="nav">
        <ui:include src="nav.xhtml"/>
    </ui:insert>

    <main class="container">

        <h2>Reservations (MyBatis)</h2>
        <h:dataTable  value="#{reservationsMyBatis.allReservations}"
                      var="reservation" styleClass="striped">
            <h:column>
                <f:facet name="header">Customer</f:facet>
                #{reservation.customerName}
            </h:column>

            <h:column>
                <f:facet name="header">Staying From</f:facet>
                #{reservation.fromDate}
            </h:column>

            <h:column>
                <f:facet name="header">Staying To</f:facet>
                #{reservation.toDate}
            </h:column>

            <h:column>
                <f:facet name="header">Room Numbers</f:facet>
                <h:dataTable value="#{reservation.rooms}" var="room">
                    <h:column>
                        #{room.number}
                    </h:column>

                </h:dataTable>
            </h:column>

            <h:column>
                <f:facet name="header">Room Types</f:facet>
                <h:dataTable value="#{reservation.rooms}" var="room">
                    <h:column>
                        #{room.type}
                    </h:column>
                </h:dataTable>
            </h:column>
        </h:dataTable>
        <br/>
    </main>

    <ui:insert name="footer">
        <ui:include src="footer.xhtml"/>
    </ui:insert>
</h:body>
</html>